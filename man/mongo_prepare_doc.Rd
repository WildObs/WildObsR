% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils.R
\name{mongo_prepare_doc}
\alias{mongo_prepare_doc}
\title{Prepare Document for MongoDB}
\usage{
mongo_prepare_doc(doc, date_cols, collection)
}
\arguments{
\item{doc}{A list or data frame representing a document}

\item{date_cols}{Character vector of column names containing dates}

\item{collection}{Character string specifying the collection type
(e.g., "observations")}
}
\value{
A list with date columns formatted as MongoDB extended JSON
(\verb{$date} format) and collection-specific fields processed
}
\description{
Converts date columns to MongoDB extended JSON format and handles
collection-specific formatting requirements.
}
\details{
Character date strings are converted to POSIXct format (UTC) before
formatting. POSIXt objects are converted directly to ISO 8601 format.
For the "observations" collection, missing classificationTimestamp
values are set to NA (converted to JSON null).
}
\keyword{internal}
