% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/IBRA_classification.R
\name{ibra_classification}
\alias{ibra_classification}
\title{Determine Interim Biogeographic Regionalisation for Australia (IBRA) bio-regions and subregions}
\usage{
ibra_classification(
  data,
  lat_col,
  long_col,
  ibra_file_path =
    "~/Dropbox/ECL spatial layers repository/Australian spatial layers GIS data/AUS/IBRA7_bioregions/ibra7_subregions.shp"
)
}
\arguments{
\item{data}{A dataframe containing at least latitude and longitude columns.}

\item{lat_col}{A character string specifying the column name for latitude in the dataframe.}

\item{long_col}{A character string specifying the column name for longitude in the dataframe.}

\item{ibra_file_path}{A character string specifying the file path to the IBRA7 subregions shapefile. Defaults to "~/Dropbox/ECL spatial layers repository/Australian spatial layers GIS data/AUS/IBRA7_bioregions/ibra7_subregions.shp".

#' @details
The function begins by verifying the presence of the specified latitude and longitude columns in the input dataframe. It then creates a spatial vector from the input coordinates and clips the IBRA shapefile to the extent of the data points for improved performance. Next, the function performs a spatial join to associate each location with its corresponding IBRA bio-region and sub-region.

If any locations are not assigned a bio-region (i.e., have missing values), the nearest neighbor approach is used to calculate these values. Finally, the function prints a summary table of the number of deployments per IBRA bio-region and sub-region and returns an updated dataframe with additional columns containing IBRA information.

Note that you must have access to the IBRA7 shapefile for this function to work. Either ensure the default pathway is accurrate and downloaded on your computer, or edit the pathway to work for your local computer.}
}
\value{
A dataframe with the original data and additional columns:
\itemize{
\item \code{IBRAsubRegionName}: Name of the IBRA sub-region.
\item \code{IBRAsubRegioncode}: Code of the IBRA sub-region.
\item \code{IBRAbioRegionName}: Name of the IBRA bio-region.
\item \code{IBRAbioRegionCode}: Code of the IBRA bio-region.
}
}
\description{
#' This function identifies the IBRA bio-region and sub-region for a set of coordinates using the IBRA7 sub- and bio-regions shapefile. It validates the geometries of the shapefile, reprojects the data for compatibility, and performs a spatial join. If any coordinates fall outside valid bio-regions, the nearest neighbor's attributes are used to fill in missing values.
}
\examples{
\dontrun{
# Example usage:
data <- data.frame(
  deploymentID = 1:3,
  lat = c(-15.5, -23.2, -17.1),
  lon = c(145.7, 133.5, 141.8)
)
result <- ibra_classification(data, lat_col = "lat", long_col = "lon")
}

}
\author{
Zachary Amir
}
