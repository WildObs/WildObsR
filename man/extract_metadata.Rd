% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/extract_metadata.R
\name{extract_metadata}
\alias{extract_metadata}
\title{Extract Metadata Elements from Data Packages}
\usage{
extract_metadata(
  dp_list,
  elements = c("contributors", "sources", "licenses", "relatedIdentifiers", "references",
    "project", "WildObsMetadata", "spatial", "temporal", "taxonomic")
)
}
\arguments{
\item{dp_list}{A single data package (list) or a list of data packages to extract metadata from. Each data package should be a named list with an \code{id} field.}

\item{elements}{A character vector specifying which metadata elements to extract.
Supported elements are: \code{"contributors"}, \code{"sources"},
\code{"licenses"}, \code{"relatedIdentifiers"}, \code{"references"},
\code{"project"}, \code{"WildObsMetadata"}, \code{"spatial"}, \code{"temporal"},
\code{"taxonomic"}.}
}
\value{
If a single element is requested: A data frame with one row per record (or one row for flat objects) and columns for each field in that element. Includes a \code{DPID} column with the source data package ID.

If multiple elements are requested: A named list of data frames, one for each requested element. Each data frame includes a \code{DPID} column to distinguish different data packages

When multiple data packages are provided, results are accumulated across all DPs using \code{dplyr::bind_rows()}, so each data frame in the result contains records from all input data packages.
}
\description{
Extracts specified metadata elements from one or more Camera Trap Data Packages (camtrap DP) and returns them as tidy data frames. Handles flexible list structures and automatically replaces NULL values with NA to ensure consistent data types.
}
\details{
This function is designed for extracting and standardizing metadata from camtrap DP
packages. It handles:
\itemize{
\item Single or multiple data packages
\item Flexible list structures (lists of objects vs. flat objects)
\item NULL values (replaced with NA for consistency)
\item Multiple data packages (rows combined via \code{dplyr::bind_rows()})
}

Before using this function, it is recommended to validate your data packages using
a QAQC function to ensure consistency in data types and structure across packages.
}
\examples{
\dontrun{
# Load a single data package
dp <- frictionless::read_package("path/to/datapackage.json")

# Extract a single element
contributors_df <- extract_metadata(dp, "contributors")

# Extract multiple elements
metadata_list <- extract_metadata(dp, c("contributors", "sources", "project"))

# Load multiple data packages
dp_list <- lapply(
  list.files("path/to/dps", pattern = "datapackage.json", recursive = TRUE),
  frictionless::read_package
)

# Extract across multiple packages
all_contributors <- extract_metadata(dp_list, "contributors")
}

}
\author{
Zachary Amir
}
